extends /layouts/default.pug

block content
  main
    section.search-page
      .search-page__wrapper(class={"search-page__wrapper--empty": hasResult})
        h1 Поиск
        .search.search-page__form
          form(action=AppFormAction.SEARCH method="get")
            label
              input(type="text" name=FormElementKey.QUERY placeholder="Что ищем?" value=query)
            button.search__button.button.button--transparent(type="submit") Найти
        if hasQuery
          if results.length
            each article in results
              .search__result
                time.search__date(datetime=article[ArticleKey.CREATED_DATE])
                  | #{humanizeDate(article[ArticleKey.CREATED_DATE])}
                a.search__link(href=`${AppRoute.ARTICLES}/${article[ArticleKey.ID]}`)
                  | #{formatSearchResult(article[ArticleKey.TITLE], query)}
          else
            p.search-page__empty Ничего не нашлось
