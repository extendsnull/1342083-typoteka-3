section.main-page__list.preview
  h2.visually-hidden Список превью статей
  ul.preview__list
    each article in articles.slice(0, 8)
      -
        const {announce, categories, createdDate, comments, id, picture, title} = article;

      li.preview__item(class={"preview__item--noimage": !picture})
        ul.preview__breadcrumbs
          each category in categories
            li.preview__breadcrumbs-item
              a.preview__breadcrumbs-link(href="#") #{category}
        if picture
          .preview__background
            img.preview__background-image(src=picture width="460" height="240" alt=title)
        time.preview__time(datetime=createdDate) #{createdDate}
        h3.preview__name
          a.preview__name-link(href="/articles/#{id}") #{title}
        if announce
          p.preview__text #{announce}
        a.preview__comment(href=`/articles/${id}#comments`)
          | Комментарии
          span.preview__cloud
          b.preview__comment-count &nbsp;#{comments ? comments.length : 0}
  .preview__toggle-wrapper
    include ./pagination.pug
